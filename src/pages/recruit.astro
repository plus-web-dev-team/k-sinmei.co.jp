---
import Layout from "../layouts/Layout.astro";
import Cta from "../components/Cta.astro";
import { Image } from "astro:assets";
import { Picture } from "astro:assets";
import recruit_top from "../images/recruit_top.jpg";
import recruit_top_svg from "../images/recruit-top.svg";
import recruit_slide001 from "../images/recruit-slide001.jpg";
import recruit_slide002 from "../images/recruit-slide002.jpg";
import recruit_slide003 from "../images/recruit-slide003.jpg";
import recruit_slide004 from "../images/recruit-slide004.jpg";
import recruit_slide005 from "../images/recruit-slide005.jpg";
import recruit_slide006 from "../images/recruit-slide006.jpg";
import recruit_slide007 from "../images/recruit-slide007.jpg";
import recruit_slide008 from "../images/recruit-slide008.jpg";
import recruit_slide009 from "../images/recruit-slide009.jpg";
import recruit_slide010 from "../images/recruit-slide010.jpg";
import images_arrow from "../images/arrow.svg";
---

<Layout title="採用情報 | 株式会社SINMEI">
  <main>
    <section class="recruit">
      <div class="recruit-inner">
        <div class="recruit-header">
          <Picture
            src={recruit_top}
            formats={["avif", "webp"]}
            alt="採用情報 トップ画像"
          />
          <div><Image src={recruit_top_svg} alt="SING ME&I" /></div>
        </div>
        <div class="recruit-main">
          <div class="recruit-tit">
            <p lang="en">recruit</p>
            <h2>採用情報</h2>
          </div>
          <div class="recruit-text">
            <p>私達と一緒に<br />働いてみませんか？</p>
            <div class="recruit-carousel">
              <div class="recruit-carousel-wrapper">
                <div class="recruit-carousel-item">
                  <Image src={recruit_slide001} alt="スライド1" />
                </div>
                <div class="recruit-carousel-item">
                  <Image src={recruit_slide002} alt="スライド2" />
                </div>
                <div class="recruit-carousel-item">
                  <Image src={recruit_slide003} alt="スライド3" />
                </div>
                <div class="recruit-carousel-item">
                  <Image src={recruit_slide004} alt="スライド4" />
                </div>
                <div class="recruit-carousel-item">
                  <Image src={recruit_slide005} alt="スライド5" />
                </div>
                <div class="recruit-carousel-item">
                  <Image src={recruit_slide006} alt="スライド6" />
                </div>
                <div class="recruit-carousel-item">
                  <Image src={recruit_slide007} alt="スライド7" />
                </div>
                <div class="recruit-carousel-item">
                  <Image src={recruit_slide008} alt="スライド8" />
                </div>
                <div class="recruit-carousel-item">
                  <Image src={recruit_slide009} alt="スライド9" />
                </div>
                <div class="recruit-carousel-item">
                  <Image src={recruit_slide010} alt="スライド10" />
                </div>
              </div>
              <div class="recruit-carousel-pager">
                <span>Scroll</span>
                <button class="recruit-carousel-next">
                  <Image src={images_arrow} alt="スライドショー 次へボタン" />
                </button>
              </div>
            </div>
            <p>
              これまでの経験を活かした仕事をしたい、未来の街づくりを手がけたいという方からのご応募をお待ちしております。
              詳しくはお電話もしくはお問合せフォームからご連絡ください。
            </p>
          </div>
        </div>
        <div class="recruit-footer">
          <div class="recruit-list">
            <h3 id="youkou">募集要項</h3>
            <ul>
              <li class="list-item">
                <div>
                  <h4>応募資格</h4>
                  <p>
                    新卒・既卒（第二新卒を含む）及び一般（学部・学科の指定なし）
                  </p>
                </div>
              </li>
              <li class="list-item">
                <div>
                  <h4>募集職種</h4>
                  <p>➀技術職種（3～5名）</p>
                  <ul>
                    <li>
                      設計：鉄骨の図面作成、お客様との仕様打合せ、工場への製作指示等
                    </li>
                    <li>
                      品質管理：品質検査（外観寸法・超音波）、製品検査対応等
                    </li>
                    <li>
                      工事：鉄骨工事現場に置いての現場代理人業務、本社と現場との調整等
                    </li>
                  </ul>
                  <p>➁営業職及び営業系事務（2～3名）</p>
                  <ul>
                    <li>
                      営業：ルート営業で得意先（大手ゼネコン）から当社鉄骨製品の受注を獲得するのが主な業務。得意先を訪問し、受注に繋がる情報収集や打合せ、見積書作成など。
                    </li>
                    <li>
                      営業事務：設計図書及び仕様書から材料や数量を積算し合計を出し見積書作成など。
                    </li>
                  </ul>
                  <p>➂製造（5名）</p>
                  <ul>
                    <li>ロボットオペレータ・部品加工・組立・溶接など。</li>
                  </ul>
                </div>
              </li>
              <li class="list-item">
                <div>
                  <h4>初任給</h4>
                  <ul>
                    <li>高卒：175,000円</li>
                    <li>短大・専門卒：180,000円</li>
                    <li>高専卒：200,000円</li>
                    <li>大卒：200,000円</li>
                  </ul>
                </div>
              </li>
              <li class="list-item">
                <div>
                  <h4>勤務時間</h4>
                  <p>8：00～17：00（休憩時間105分）</p>
                </div>
              </li>
              <li class="list-item">
                <div>
                  <h4>休 日</h4>
                  <p>日・その他 ※2024年4月より年間105日</p>
                </div>
              </li>
              <li class="list-item">
                <div>
                  <h4>休 暇</h4>
                  <p>有給休暇、特別休暇（弔辞等）、育児休暇あり</p>
                </div>
              </li>
              <li class="list-item">
                <div>
                  <h4>福利厚生</h4>
                  <p>
                    健康保険・雇用保険・厚生年金・労災保険・通勤手当（市内以外）・役職手当・定期健康診断・保健師による保健指導・結婚祝・出産祝・見舞金・香典・新入社員研修・OFF-JT・フォローアップ研修・スキルアップ教育・ボーリング大会・忘年会・安全大会
                  </p>
                </div>
              </li>
              <li class="list-item">
                <div>
                  <h4>採用実績</h4>
                  <p>
                    日本大学、青森中央学院大学、THUY
                    LOI大学、八戸工業大学、青森職業能力開発短期大学、東北電子専門学校、青森高等学校、五所川原工業高等学校、五所川原工科高等学校、木造高等学校、五所川原農林高等学校、五所川原第一高等学校、弘前工業高等学校
                  </p>
                </div>
              </li>
            </ul>
          </div>
        </div>
        <div class="recruit-form">
          <div class="recruit-form-tit">
            <p lang="en">ENTRY FORM</p>
            <h2>エントリーフォーム</h2>
            <a href="#youkou">
              <p>募集要項はこちら</p>
              <Image src={images_arrow} alt="矢印アイコン" />
            </a>
          </div>
          <form method="post" action="/recruit.php">
            <div class="form-inner">
              <div class="form-item">
                <p>エントリー区分<span>&#042;</span></p>
                <select name="エントリー区分">
                  <option value="" selected disabled>選択</option>
                  <option value="技術職">技術職（3〜5名）</option>
                  <option value="営業職及び営業系事務"
                    >営業職及び営業系事務（2〜3名）</option
                  >
                  <option value="製造">製造（5名）</option>
                </select>
              </div>
              <div class="form-item">
                <p>氏名<span>&#042;</span></p>
                <p><input size="30" type="text" name="氏名" /></p>
              </div>
              <div class="form-item">
                <p>フリガナ<span>&#042;</span></p>
                <p><input size="30" type="text" name="フリガナ" /></p>
              </div>
              <div class="form-item">
                <p>生年月日<span>&#042;</span></p>
                <p><input size="30" type="text" name="生年月日" /></p>
              </div>
              <div class="form-item">
                <p>年齢<span>&#042;</span></p>
                <p><input size="30" type="text" name="年齢" /></p>
              </div>
              <div class="form-item">
                <p>性別<span>&#042;</span></p>
                <p><input size="30" type="text" name="性別" /></p>
              </div>
              <div class="form-item">
                <p>メールアドレス<span>&#042;</span></p>
                <p><input size="30" type="text" name="メールアドレス" /></p>
              </div>
              <div class="form-item">
                <p>学歴・職歴・資格等</p>
                <p>
                  <textarea name="学歴・職歴・資格等" cols="50" rows="5"
                  ></textarea>
                </p>
              </div>
            </div>
            <div class="form-submit">
              <p><input type="submit" value="確認" /></p>
              <p><input type="reset" value="リセット" /></p>
            </div>
          </form>
          <div class="recruit-form-text">
            <p>採用に関するお問い合わせ</p>
            <p>株式会社SINMEI 採用担当者</p>
            <p>TEL：0173-34-4320 / FAX：0173-33-4776</p>
          </div>
        </div>
      </div>
    </section>
    <Cta />
  </main>
</Layout>

<script>
  document.addEventListener("DOMContentLoaded", (event) => {
    const slider = document.querySelector(".recruit-carousel-wrapper");
    const slides = document.querySelectorAll(".recruit-carousel-item");
    const pager = document.querySelector(".recruit-carousel-pager");
    const nextButton = document.querySelector(".recruit-carousel-next");

    const slideWidth = 430 + 30; // スライドの幅に margin-right の幅を加える
    const pagerOffset = pager.getBoundingClientRect().left; // recruit-carousel-pagerの左端からの距離
    let currentIndex = 1 + Math.floor(pagerOffset / slideWidth); // 最初のスライドの位置を調整

    // 最初と最後のスライドのクローンを追加
    const firstSlideClone = slides[0].cloneNode(true);
    const lastSlideClone = slides[slides.length - 1].cloneNode(true);
    slider.appendChild(firstSlideClone);
    slider.insertBefore(lastSlideClone, slides[0]);

    // 初期位置を設定
    const initialTranslateX = -(slideWidth * (currentIndex + 1)) + pagerOffset; // スライダーの初期位置
    slider.style.transform = `translateX(${initialTranslateX}px)`;

    function nextSlide() {
      currentIndex++;
      const offset = -(slideWidth * (currentIndex + 1)) + pagerOffset;
      slider.style.transition = "transform 0.5s ease";
      slider.style.transform = `translateX(${offset}px)`;

      // 最後のクローンスライドに到達したら、最初のスライドに戻る
      if (currentIndex >= slides.length + 1) {
        setTimeout(() => {
          currentIndex = 1;
          slider.style.transition = "none";
          slider.style.transform = `translateX(${-(slideWidth * (currentIndex + 1)) + pagerOffset}px)`;
          // ブラウザがスタイルの反映に時間を要するため、setTimeoutを使用してアニメーションの途中で次の移動を実行
          setTimeout(() => {
            slider.style.transition = "transform 0.5s ease";
            slider.style.transform = `translateX(${-(slideWidth * (currentIndex + 2)) + pagerOffset}px)`;
          }, 50);
        }, 500);
      }
    }

    nextButton.addEventListener("click", () => {
      nextSlide();
    });

    // 自動スライド機能を追加
    setInterval(nextSlide, 5000);
  });
</script>
